(()=>{const e=document.getElementById("register-form"),t=document.getElementById("register-username-input"),a=document.getElementById("register-password-input");e.addEventListener("submit",(async e=>{e.preventDefault();const s=t.value.trim(),n=a.value.trim();if(""!==s&&""!==n){try{const e=await axios.post("http://localhost:3000/register",{username:s,password:n});alert(e.data.message)}catch(e){alert(e.response.data.error)}t.value="",a.value=""}else alert("Please enter a username and password.")}));const s=document.getElementById("login-form"),n=document.getElementById("login-username-input"),r=document.getElementById("login-password-input");s.addEventListener("submit",(async e=>{e.preventDefault();const t=n.value.trim(),a=r.value.trim();if(""!==t&&""!==a){try{const e=await axios.post("http://localhost:3000/login",{username:t,password:a});alert(e.data.message)}catch(e){alert(e.response.data.error)}n.value="",r.value=""}else alert("Please enter a username and password.")})),async function(){try{(await axios.get("http://localhost:3000/chat")).data.blockchain.forEach((e=>{decryptMessage(e.message),e.sender,e.timestamp}))}catch(e){console.log(e)}}()})();